<main class="main-container">
  <section class="modal-header">
    <h1 class="modal-title">Pré-visualização do Currículo</h1>
  </section>
  <section class="modal-content">
    <article class="art1">
      <h2>Dados Iniciais:</h2>
      <ul>
        <li class="dadosIniciais">{{ modalService.inicio.nome }}</li>
        <li class="dadosIniciais">{{ modalService.inicio.nascimento }}</li>
        <li class="dadosIniciais">{{ modalService.inicio.contatoCel }}</li>
        <li class="dadosIniciais">{{ modalService.inicio.contatoEmail }}</li>
      </ul>

      <button class="button" (click)="abrirModal('inicio')">Editar</button>
    </article>

    <article class="art2">
      <h2>Experiências:</h2>
      <ul>
        <li *ngFor="let exp of modalService.experiencias">
          Empresa: {{ exp.empresa }} <br />
          Cargo: {{ exp.cargo }}
        </li>
      </ul>
      <button class="button" (click)="abrirModal('experiencias')">
        Editar
      </button>
    </article>

    <article class="art3">
      <h2>Habilidades:</h2>
      <ul>
        <li *ngFor="let skill of modalService.skills">{{ skill }}</li>
      </ul>
      <button class="button" (click)="abrirModal('Habilidades')">Editar</button>
    </article>

    <article class="art4">
      <h2>Educação:</h2>
      <ul>
        <li *ngFor="let edu of modalService.educacao">
          {{ edu.formacao }} - {{ edu.instituicao }}
        </li>
      </ul>
      <button class="button" (click)="abrirModal('educacao')">Editar</button>
    </article>

    <article class="art5">
      <h2>Idiomas:</h2>
      <ul>
        <li *ngFor="let idioma of modalService.idiomas">{{ idioma }}</li>
      </ul>
      <button class="button" (click)="abrirModal('idiomas')">Editar</button>
    </article>
  </section>

  <section class="template-selector">
    <label>Modelo:</label>
    <select [(ngModel)]="templateSelecionado">
      <option value="classico">Clássico</option>
      <option value="moderno">Moderno</option>
    </select>
  </section>


  <div class="modal-overlay" *ngIf="modalAberto">
    <div class="modal-conteudo">
      <button class="button" (click)="fecharModal()">Fechar</button>

      <ng-container [ngSwitch]="modalAberto">
        <app-modal-experiencias
          *ngSwitchCase="'experiencias'"
          ></app-modal-experiencias>
          <app-modal-educacao *ngSwitchCase="'educacao'"></app-modal-educacao>
          <app-modal-idiomas *ngSwitchCase="'idiomas'"></app-modal-idiomas>
          <app-modal-inicio *ngSwitchCase="'inicio'"></app-modal-inicio>
          <app-modal-skills *ngSwitchCase="'skills'"></app-modal-skills>
        </ng-container>
    </div>
  </div>

  <app-modal-preview
    *ngIf="mostrarPreview"
    [template]="templateSelecionado"
    [dados]="dadosCompletos"
    (fechar)="mostrarPreview = false"
    (confirmar)="imprimir()"
  >
  </app-modal-preview>

  <footer class="visualizar">
    <button (click)="abrirPreview()">Visualizar</button>
  </footer>
</main>
